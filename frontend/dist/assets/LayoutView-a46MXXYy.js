import{u as O,i as P,r as T,o as d,d as h,e,q as i,x as g,t as x,g as b,j as f,k as H,_ as M,l as R,M as q,y,N as D,F as $,A as C,O as p,K as I,L as B,P as G,Q as J,R as K,c as Q,a as U,D as V,E as j,G as W,T as X,I as Z,J as ee}from"./index-CWny3xkE.js";import{_ as te}from"./itoktok-sm-DEpJsqwV.js";import{u as se,a as oe}from"./teacherStore-Dh71FLAb.js";const ne={class:"bg-white border-gray-200 dark:bg-gray-900"},re={class:"max-w-screen-full flex flex-wrap items-center justify-between mx-auto p-4"},ae=e("img",{class:"h-8 w-auto rounded-lg",src:te,alt:"Your Company"},null,-1),le=e("span",{class:"self-center text-sm align-bottom text-gray-500 font-semibold whitespace-nowrap dark:text-white"},"with children",-1),ie={class:"w-full md:block md:w-auto text-md font-bold",id:"navbar-default"},ce={class:"font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"},de={class:"font-semibold text-slate-500"},ue=e("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"},"로그아웃",-1),he=[ue],me={__name:"HeaderView",emits:["toggleSettingsSlide"],setup(c){const r=O();console.log("userStore",r.user);const{logoutApp:a}=H(),m=P("$navigateTo"),o=async()=>{await a(),console.log("logout"),m("/login")};return(l,t)=>{const s=T("router-link");return d(),h("nav",ne,[e("div",re,[i(s,{to:"/admin",class:"flex items-center space-x-3 rtl:space-x-reverse"},{default:g(()=>[ae,le]),_:1}),e("div",ie,[e("ul",ce,[e("li",de,x(b(r).user.full_name)+" ["+x(b(r).user.username)+"] ",1),i(s,{to:"/admin/myinfo",class:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",tab:"li"},{default:g(()=>[f("내정보")]),_:1}),e("li",{onClick:o},he)])])])])}}},L=c=>(I("data-v-fd030112"),c=c(),B(),c),_e={class:"w-auto bg-white rounded-lg shadow"},ve={class:"p-2"},ge={class:"flex items-center justify-between mb-1"},pe=L(()=>e("span",{class:"material-icons"},"◀",-1)),fe=[pe],xe={class:"text-lg text-gray-800 font-semibold"},we=L(()=>e("span",{class:"material-icons"},"▶",-1)),be=[we],ye={class:"grid grid-cols-7 gap-1 mb-1"},ke={class:"grid grid-cols-7 gap-1"},$e=["onClick"],Ce={__name:"Calendar",setup(c){const r=R();q();const a=se(),m=y(new Date),o=y(null),l=new Date,t=["일","월","화","수","목","금","토"],s=D(()=>m.value.getMonth()),u=D(()=>m.value.getFullYear()),F=D(()=>{const _=u.value,w=s.value,n=new Date(_,w,1).getDay(),S=new Date(_,w+1,0).getDate(),k=[],Y=new Date(_,w,0).getDate();for(let v=n-1;v>=0;v--)k.push({date:Y-v,isCurrentMonth:!1,isPrevMonth:!0});for(let v=1;v<=S;v++)k.push({date:v,isCurrentMonth:!0,isSelected:o.value&&o.value.getDate()===v&&o.value.getMonth()===s.value&&o.value.getFullYear()===u.value,isToday:l.getDate()===v&&l.getMonth()===s.value&&l.getFullYear()===u.value});const E=42-k.length;for(let v=1;v<=E;v++)k.push({date:v,isCurrentMonth:!1,isNextMonth:!0});return k}),N=_=>{let w=u.value,n=s.value;_.isPrevMonth?s.value===0?(w=u.value-1,n=11):n=s.value-1:_.isNextMonth&&(s.value===11?(w=u.value+1,n=0):n=s.value+1),o.value=new Date(w,n,_.date),a.setSelectedDate(o.value),r.push("/admin/weekly")},A=()=>{const _=new Date(u.value,s.value-1,1);m.value=_,a.setSelectedDate(_)},z=()=>{const _=new Date(u.value,s.value+1,1);m.value=_,a.setSelectedDate(_)};return(_,w)=>(d(),h("div",_e,[e("div",ve,[e("div",ge,[e("button",{onClick:A,class:"text-gray-800 hover:text-gray-800"},fe),e("h2",xe,x(u.value)+"-"+x(String(s.value+1).padStart(2,"0")),1),e("button",{onClick:z,class:"text-gray-800 hover:text-gray-800"},be)]),e("div",ye,[(d(),h($,null,C(t,n=>e("div",{key:n,class:"text-center text-sm font-medium"},[e("span",{class:p(n==="일"?"text-red-500":"text-gray-800")},x(n),3)])),64))]),e("div",ke,[(d(!0),h($,null,C(F.value,(n,S)=>(d(),h("div",{key:S,onClick:k=>N(n),class:p(["text-center text-gray-800 py-1 cursor-pointer text-sm",{"text-gray-500":!n.isCurrentMonth,"text-red-500":new Date(u.value,s.value,n.date).getDay()===0&&n.isCurrentMonth,"bg-blue-100 rounded":n.isSelected,"bg-green-100 rounded":n.isToday,"hover:bg-gray-100 rounded":!n.isSelected&&!n.isToday}])},x(n.date),11,$e))),128))])])]))}},Me=M(Ce,[["__scopeId","data-v-fd030112"]]),Se=c=>(I("data-v-63530fc9"),c=c(),B(),c),De={class:"mt-4 bg-white rounded-lg p-4"},Te=Se(()=>e("h3",{class:"text-gray-700 font-medium mb-3"},"상담사 목록",-1)),Ve={class:"space-y-2"},je=["onClick"],Ie={class:"flex items-center"},Be=["checked"],Le={class:"flex flex-row items-center"},Fe={class:"text-sm font-medium text-gray-700"},Ne={class:"ml-2 text-xs text-gray-500"},Ae={__name:"TeacherList",setup(c){const r=oe(),a=y([]);G(async()=>{try{const o=await J();console.log("teachers:",o),a.value=o.map(t=>({id:t.id,username:t.username,name:t.full_name,role:t.user_type==="center"?"센터":"상담사",checked:!0,color:t.usercolor}));const l=a.value.filter(t=>t.checked).map(t=>t.username);r.setSelectedTeachers(l)}catch(o){console.error("Error fetching teachers:",o)}});const m=o=>{o.checked=!o.checked;const l=a.value.filter(t=>t.checked).map(t=>t.username);r.setSelectedTeachers(l)};return(o,l)=>(d(),h("div",De,[Te,e("div",Ve,[(d(!0),h($,null,C(a.value,t=>(d(),h("div",{key:t.id,class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer",onClick:s=>m(t)},[e("div",Ie,[e("input",{type:"checkbox",checked:t.checked,class:"form-checkbox h-4 w-4 cursor-pointer",style:K({color:t.color+"80"})},null,12,Be)]),e("div",Le,[e("span",Fe,x(t.name),1),e("span",Ne,x(t.role),1)])],8,je))),128))])]))}},ze=M(Ae,[["__scopeId","data-v-63530fc9"]]),Ye={class:"w-64 bg-gray-800 text-gray-200 flex flex-col shadow-lg"},Ee={class:"flex-grow p-4"},Oe={class:"mt-2"},Pe=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})]),f(" 프로그램 관리 ")],-1),He=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Re=[He],qe=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A7.5 7.5 0 0112 2.5a7.5 7.5 0 016.879 15.304M15 21h6m0 0v-6m0 6l-6-6"})]),f(" 사용자 ")],-1),Ge=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Je=[Ge],Ke={class:"mt-2"},Qe=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 11V7m0 4v4m0-4H7m4 0h4M21 12.255a9.253 9.253 0 01-.965 4.365l-1.634-1.635m2.599-2.73l-2.599 2.731M5 6.636l1.635-1.635M3 12.255c.051-1.23.246-2.422.58-3.551L6.636 5m0 0l1.635 1.635m0 0l4.83 4.83m-4.83 0h.001l-4.831 4.83m4.83-4.83L12 12.25"})]),f(" 일정관리 ")],-1),Ue=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),We=[Ue],Xe={__name:"LeftView",setup(c){const r=y(!1),a=y(!1),m=y(!1);return(o,l)=>{const t=T("router-link");return d(),h("aside",Ye,[e("nav",Ee,[e("div",Oe,[e("button",{onClick:l[0]||(l[0]=s=>m.value=!m.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[Pe,(d(),h("svg",{class:p([{"transform rotate-180":m.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Re,2))]),e("div",{class:p(["mt-2 space-y-2 pl-8 text-gray-400",m.value?"block":"hidden"])},[i(t,{to:"/admin/program",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("프로그램 목록")]),_:1})],2)]),e("div",null,[e("button",{onClick:l[1]||(l[1]=s=>r.value=!r.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[qe,(d(),h("svg",{class:p([{"transform rotate-180":r.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Je,2))]),e("div",{class:p(["mt-2 space-y-2 pl-8 text-gray-400",r.value?"block":"hidden"])},[i(t,{to:"/admin/client",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("내담자 관리")]),_:1}),i(t,{to:"/admin/counselor",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("상담사 관리")]),_:1})],2)]),e("div",Ke,[e("button",{onClick:l[2]||(l[2]=s=>a.value=!a.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[Qe,(d(),h("svg",{class:p([{"transform rotate-180":a.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},We,2))]),e("div",{"x-show":"open",class:p(["mt-2 space-y-2 pl-8 text-gray-400",a.value?"block":"hidden"])},[i(t,{to:"/admin/monthly",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("월간일정")]),_:1}),i(t,{to:"/admin/weekly",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("주간일정")]),_:1})],2)]),i(Me),i(ze)])])}}},Ze={},et={class:"bg-white shadow-md py-2 px-6 text-center"},tt=e("p",{class:"text-gray-700"},"© 2024 EzyOps Admin Dashboard. All rights reserved.",-1),st=[tt];function ot(c,r){return d(),h("footer",et,st)}const nt=M(Ze,[["render",ot]]),rt={className:"w-full bg-neutral-50 shadow-lg rounded-lg p-6"},at={className:"border-b pb-2 mb-4"},lt={class:"flex items-center justify-evenly mb-2"},it=e("h2",{class:"font-title font-bold"},"설정",-1),ct=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),dt=[ct],ut={class:"mb-4"},ht=e("label",{for:"timeInterval",class:"block text-gray-700"},"일정 시간 간격",-1),mt=["value"],_t={class:"mb-4"},vt={class:"flex items-center justify-between"},gt=e("label",{for:"hs-color-input",class:"block text-sm font-medium mb-2"},"일정 색상 ",-1),pt={class:"flex justify-between mt-4"},ft=e("button",{type:"submit",class:"bg-green-600 text-white rounded-md p-2 w-[80px]"}," 확인 ",-1),xt={__name:"SettingsFormSliding",props:{isVisible:Boolean},emits:["close"],setup(c,{emit:r}){const a=r,m=Q({timeInterval:U().required("시간간격을 선택하세요.")}),o=[5,10,15,20,30,60],l=async t=>{console.log("submitting:",t),a("close")};return(t,s)=>(d(),h($,null,[e("div",{onClick:s[0]||(s[0]=u=>t.$emit("close")),class:p(["fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-1000",{"opacity-100 block":c.isVisible,"opacity-0 hidden":!c.isVisible}])},null,2),e("div",{class:p(["fixed top-0 right-0 w-1/3 h-full bg-white shadow-lg p-4 overflow-auto z-50 transition-transform duration-1000 ease-in-out",{"translate-x-full":!c.isVisible,"translate-x-0":c.isVisible}])},[e("div",rt,[e("div",at,[e("div",lt,[it,e("button",{class:"ml-auto",onClick:s[1]||(s[1]=u=>t.$emit("close"))},dt)]),i(b(W),{"validation-schema":b(m),onSubmit:l},{default:g(()=>[e("div",ut,[ht,i(b(V),{as:"select",name:"timeInterval",id:"timeInterval",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},{default:g(()=>[(d(),h($,null,C(o,u=>e("option",{key:u,value:u},x(u)+" 분 ",9,mt)),64))]),_:1}),i(b(j),{name:"timeInterval",class:"text-red-500 text-sm"})]),e("div",_t,[e("div",vt,[gt,i(b(V),{type:"color",name:"usercolor",id:"usercolor",class:"p-1 h-10 w-14 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none",value:"#2563eb",title:"Choose your color"})]),i(b(j),{name:"usercolor",class:"text-red-500 text-sm"})]),e("div",pt,[e("button",{type:"button",onClick:s[2]||(s[2]=u=>t.$emit("close")),class:"bg-gray-400 text-white rounded-md p-2 w-[80px]"}," 취소 "),ft])]),_:1},8,["validation-schema"])])])],2)],64))}},wt={class:"flex flex-1 overflow-hidden"},bt={class:"flex-1 overflow-y-auto p-3"},yt={__name:"LayoutView",setup(c){const r=y(!1),a=()=>{r.value=!r.value};return(m,o)=>{const l=T("router-view");return d(),h($,null,[i(me,{onToggleSettingsSlide:a}),e("div",wt,[i(Xe),e("main",bt,[i(l,null,{default:g(({Component:t,route:s})=>[i(X,{name:"fade",mode:"out-in"},{default:g(()=>[(d(),h("div",{key:s.name},[(d(),Z(ee(t)))]))]),_:2},1024)]),_:1})])]),i(nt),i(xt,{isVisible:r.value,onClose:a},null,8,["isVisible"])],64)}}},Mt=M(yt,[["__scopeId","data-v-ad8ab6a0"]]);export{Mt as default};
