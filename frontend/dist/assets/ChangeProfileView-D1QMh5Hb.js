import{l as f,u as w,i as x,c as y,a as c,R as v,G as V,O as k,x as n,o as M,e as t,q as d,g as l,L as r,M as m,N as S,j as U}from"./index-DyikdeVs.js";import{M as B}from"./MobileLayout-CeX199-E.js";const q={class:"p-4"},N={class:"bg-white rounded-lg shadow-sm p-4"},F=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[U(" 이름 / 담당자명 "),t("span",{class:"text-red-500"},"*")],-1),j={class:"bg-white rounded-lg shadow-sm p-4"},C=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"아이디",-1),E=["value"],L={class:"bg-white rounded-lg shadow-sm p-4"},R=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"이메일",-1),$={class:"bg-white rounded-lg shadow-sm p-4"},G=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"휴대폰 번호",-1),O={class:"bg-white rounded-lg shadow-sm p-4"},P=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"생년월일",-1),T={class:"bg-white rounded-lg shadow-sm p-4"},z=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"성별",-1),A=t("option",{value:""},"성별을 선택하세요",-1),D=t("option",{value:"M"},"남성",-1),H=t("option",{value:"F"},"여성",-1),I={class:"bg-white rounded-lg shadow-sm p-4"},J=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"주소",-1),K=t("button",{type:"submit",class:"w-full bg-blue-600 text-white rounded-md py-3 font-semibold"}," 저장 ",-1),Y={__name:"ChangeProfileView",setup(Q){const u=f(),b=w(),i=x("showModal",()=>{}),p=y({full_name:c().required("이름을 입력해주세요."),email:c().email("올바른 이메일 주소를 입력해주세요.")}),e=v({full_name:"",username:"",email:"",phone_number:"",birth_date:"",gender:"",address:""}),h=()=>{u.back()},_=()=>{document.querySelector("form").requestSubmit()},g=async o=>{try{i("프로필이 변경되었습니다."),u.back()}catch(a){i("프로필 변경 중 오류가 발생했습니다."),console.error("Error updating profile:",a)}};return V(()=>{const o=b.user;o&&(e.full_name=o.full_name||"",e.username=o.username||"",e.email=o.email||"",e.phone_number=o.phone_number||"",e.birth_date=o.birth_date||"",e.gender=o.gender||"",e.address=o.address||"")}),(o,a)=>(M(),k(B,{"header-title":"프로필 변경","show-back":!0,"show-save":!0,"active-tab":"profile",onBack:h,onSave:_},{default:n(()=>[t("div",q,[d(l(S),{onSubmit:g,"validation-schema":l(p),"initial-values":e,class:"space-y-4"},{default:n(()=>[t("div",N,[F,d(l(r),{name:"full_name",as:"input",type:"text",modelValue:e.full_name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.full_name=s),class:"w-full bg-white border border-gray-300 rounded-md p-2",placeholder:"이름을 입력하세요"},null,8,["modelValue"]),d(l(m),{name:"full_name",class:"text-red-500 text-xs italic mt-1"})]),t("div",j,[C,t("input",{type:"text",value:e.username,disabled:"",class:"w-full bg-gray-100 border border-gray-300 rounded-md p-2 text-gray-500"},null,8,E)]),t("div",L,[R,d(l(r),{name:"email",as:"input",type:"email",modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=s=>e.email=s),class:"w-full bg-white border border-gray-300 rounded-md p-2",placeholder:"이메일을 입력하세요"},null,8,["modelValue"]),d(l(m),{name:"email",class:"text-red-500 text-xs italic mt-1"})]),t("div",$,[G,d(l(r),{name:"phone_number",as:"input",type:"text",modelValue:e.phone_number,"onUpdate:modelValue":a[2]||(a[2]=s=>e.phone_number=s),class:"w-full bg-white border border-gray-300 rounded-md p-2",placeholder:"휴대폰 번호를 입력하세요"},null,8,["modelValue"]),d(l(m),{name:"phone_number",class:"text-red-500 text-xs italic mt-1"})]),t("div",O,[P,d(l(r),{name:"birth_date",as:"input",type:"date",modelValue:e.birth_date,"onUpdate:modelValue":a[3]||(a[3]=s=>e.birth_date=s),class:"w-full bg-white border border-gray-300 rounded-md p-2"},null,8,["modelValue"])]),t("div",T,[z,d(l(r),{name:"gender",as:"select",modelValue:e.gender,"onUpdate:modelValue":a[4]||(a[4]=s=>e.gender=s),class:"w-full bg-white border border-gray-300 rounded-md p-2"},{default:n(()=>[A,D,H]),_:1},8,["modelValue"])]),t("div",I,[J,d(l(r),{name:"address",as:"input",type:"text",modelValue:e.address,"onUpdate:modelValue":a[5]||(a[5]=s=>e.address=s),class:"w-full bg-white border border-gray-300 rounded-md p-2",placeholder:"주소를 입력하세요"},null,8,["modelValue"])]),K]),_:1},8,["validation-schema","initial-values"])])]),_:1}))}};export{Y as default};
