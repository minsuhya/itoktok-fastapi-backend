import{l as F,z as p,A as x,G as L,O as z,x as P,o as n,e,d as l,B as v,C as V,t as h,F as _}from"./index-DYkgv6yf.js";import{M as $}from"./MobileLayout-B5niWt1I.js";import{g as A}from"./schedule-B0kk96-p.js";import"./teacherStore-Bd5PY4Ed.js";const E={class:"p-4"},G={class:"bg-white rounded-lg shadow-sm p-4 mb-4"},H=e("div",{class:"grid grid-cols-7 gap-1 mb-2"},[e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"일"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"월"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"화"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"수"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"목"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"금"),e("div",{class:"text-center text-xs font-semibold text-gray-500 py-2"},"토")],-1),N={class:"grid grid-cols-7 gap-1"},R=["onClick"],W={class:"bg-white rounded-lg shadow-sm p-4"},Y=e("h3",{class:"font-semibold text-lg mb-3"},"일정 목록",-1),j={key:0,class:"text-center py-8 text-gray-500"},q={key:1,class:"space-y-3"},J=["onClick"],K={class:"text-sm text-gray-500"},Q={class:"font-semibold"},U={class:"text-sm text-gray-600 mt-1"},ot={__name:"HomeView",setup(X){const y=F(),m=p(new Date),i=p([]),d=x(()=>{const t=m.value;return{year:t.getFullYear(),month:t.getMonth()+1}}),f=x(()=>{const t=d.value.year,o=d.value.month,s=new Date(t,o-1,1),k=new Date(t,o,0).getDate(),C=s.getDay(),r=[],T=new Date().toISOString().split("T")[0],O=new Date(t,o-2,0);for(let a=C-1;a>=0;a--){const c=new Date(t,o-2,O.getDate()-a);r.push({date:c.toISOString().split("T")[0],day:c.getDate(),isCurrentMonth:!1,isToday:!1,isSelected:!1,hasSchedule:!1})}for(let a=1;a<=k;a++){const u=new Date(t,o-1,a).toISOString().split("T")[0];r.push({date:u,day:a,isCurrentMonth:!0,isToday:u===T,isSelected:u===m.value.toISOString().split("T")[0],hasSchedule:i.value.some(B=>B.date===u)})}const I=42-r.length;for(let a=1;a<=I;a++){const c=new Date(t,o,a);r.push({date:c.toISOString().split("T")[0],day:a,isCurrentMonth:!1,isToday:!1,isSelected:!1,hasSchedule:!1})}return r}),b=t=>{m.value=new Date(t),y.push({name:"MobileScheduleList",params:{date:t}})},S=()=>{},D=()=>{y.push({name:"MobileScheduleForm"})},w=t=>{y.push({name:"MobileScheduleDetail",params:{id:t.id}})},M=async()=>{try{const t=await A(d.value.year,d.value.month);i.value=t.data||[]}catch(t){console.error("일정 조회 오류:",t)}};return L(()=>{M()}),(t,o)=>(n(),z($,{"header-title":"2023년 09월","show-menu":!0,"show-plus":!0,"active-tab":"home",onMenu:S,onPlus:D},{default:P(()=>[e("div",E,[e("div",G,[H,e("div",N,[(n(!0),l(_,null,v(f.value,s=>(n(),l("div",{key:s.date,onClick:g=>b(s.date),class:V(["text-center py-2 rounded-lg cursor-pointer text-sm",s.isCurrentMonth?"text-gray-900":"text-gray-400",s.isToday?"bg-blue-100 text-blue-600 font-semibold":"",s.isSelected?"bg-blue-600 text-white font-semibold":"",s.hasSchedule?"font-semibold":""])},h(s.day),11,R))),128))])]),e("div",W,[Y,i.value.length===0?(n(),l("div",j," 등록된 일정이 없습니다. ")):(n(),l("div",q,[(n(!0),l(_,null,v(i.value,s=>(n(),l("div",{key:s.id,onClick:g=>w(s),class:"border-l-4 border-blue-600 pl-4 py-2 cursor-pointer hover:bg-gray-50 rounded-r-lg"},[e("div",K,h(s.time),1),e("div",Q,h(s.title),1),e("div",U,h(s.content),1)],8,J))),128))]))])])]),_:1}))}};export{ot as default};
