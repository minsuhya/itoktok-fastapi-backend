import{_ as N,l as z,u as D,i as U,z as g,c as q,a as v,b as E,d as a,e,w as h,f as y,v as _,g as o,m as k,h as C,t as p,W as b,j as S,k as F,o as n,D as R,E as T}from"./index-DYkgv6yf.js";import{_ as H}from"./itoktok-sm-DEpJsqwV.js";const r=i=>(R("data-v-7b710b6b"),i=i(),T(),i),P={class:"min-h-screen bg-gray-50 flex flex-col justify-center px-4 py-12"},W=r(()=>e("div",{class:"text-center mb-8"},[e("img",{class:"mx-auto h-16 w-auto rounded-lg mb-4",src:H,alt:"아이토크톡"}),e("h2",{class:"text-2xl font-bold text-gray-900"}," 로그인 "),e("p",{class:"mt-2 text-sm text-gray-600"}," 계정에 로그인하세요 ")],-1)),G={class:"bg-white rounded-lg shadow-sm p-6 max-w-md mx-auto w-full"},J=r(()=>e("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-2"}," 아이디 ",-1)),K={key:0,class:"mt-1 text-sm text-red-500"},O=r(()=>e("div",{class:"flex items-center justify-between mb-2"},[e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," 비밀번호 "),e("a",{href:"/forgot-password",class:"text-sm font-semibold text-blue-600 hover:text-blue-500"}," 비밀번호 찾기 ")],-1)),Q={key:0,class:"mt-1 text-sm text-red-500"},X=["disabled"],Y={key:0},Z={key:1,class:"flex items-center"},ee=r(()=>e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 12 5.373 12 12H4z"})],-1)),se=r(()=>e("div",{class:"mt-6 text-center"},[e("p",{class:"text-sm text-gray-600"},[S(" 회원이 아니신가요? "),e("a",{href:"/signup",class:"font-semibold text-blue-600 hover:text-blue-500"}," 회원가입 ")])],-1)),te={class:"flex items-center justify-between mb-4"},oe=r(()=>e("h3",{class:"text-lg font-semibold text-gray-900"},"오류",-1)),le=r(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),re=[le],ae={class:"text-gray-700"},ne={__name:"LoginView",setup(i){const V=z();D();const{loginApp:j}=F(),M=U("showModal",()=>{}),d=g(!1),l=g(""),B=q({username:v().required("아이디를 입력해주세요."),password:v().min(8,"최소 8자 이상 입력해주세요.").required("비밀번호를 입력해주세요.")}),{errors:u,handleSubmit:L,defineField:x,setValues:$}=E({validationSchema:B}),[c,A]=x("username"),[m,I]=x("password");$({username:"",password:""});const f=L(async w=>{d.value=!0,l.value="";try{await j(w),V.push("/mobile")}catch(s){console.error("Login error:",s);const t="아이디와 비밀번호를 확인하세요.";l.value=t,M(t)}finally{d.value=!1}});return(w,s)=>(n(),a("div",P,[W,e("div",G,[e("form",{class:"space-y-5",onSubmit:s[2]||(s[2]=h((...t)=>o(f)&&o(f)(...t),["prevent"]))},[e("div",null,[J,y(e("input",k({"onUpdate:modelValue":s[0]||(s[0]=t=>C(c)?c.value=t:null),id:"username",name:"username",type:"text",autocomplete:"username"},o(A),{placeholder:"아이디를 입력하세요",class:"block w-full rounded-md border border-gray-300 py-3 px-4 text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-600 focus:border-blue-600 sm:text-sm"}),null,16),[[_,o(c)]]),o(u).username?(n(),a("div",K,p(o(u).username),1)):b("",!0)]),e("div",null,[O,y(e("input",k({"onUpdate:modelValue":s[1]||(s[1]=t=>C(m)?m.value=t:null),id:"password",name:"password",type:"password",autocomplete:"current-password"},o(I),{placeholder:"비밀번호를 입력하세요",class:"block w-full rounded-md border border-gray-300 py-3 px-4 text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-600 focus:border-blue-600 sm:text-sm"}),null,16),[[_,o(m)]]),o(u).password?(n(),a("div",Q,p(o(u).password),1)):b("",!0)]),e("div",null,[e("button",{type:"submit",disabled:d.value,class:"flex w-full justify-center rounded-md bg-blue-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"},[d.value?(n(),a("span",Z,[ee,S(" 로그인 중... ")])):(n(),a("span",Y,"로그인"))],8,X)])],32),se]),l.value?(n(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",onClick:s[6]||(s[6]=t=>l.value="")},[e("div",{class:"bg-white rounded-lg p-6 max-w-sm w-full",onClick:s[5]||(s[5]=h(()=>{},["stop"]))},[e("div",te,[oe,e("button",{onClick:s[3]||(s[3]=t=>l.value=""),class:"text-gray-400 hover:text-gray-600"},re)]),e("p",ae,p(l.value),1),e("button",{onClick:s[4]||(s[4]=t=>l.value=""),class:"mt-4 w-full bg-blue-600 text-white rounded-md py-2 font-semibold hover:bg-blue-500"}," 확인 ")])])):b("",!0)]))}},ue=N(ne,[["__scopeId","data-v-7b710b6b"]]);export{ue as default};
