import{c as L,a as g,n as Q,p as W,b as X,s as Z,r as ee,o as se,d as te,e,w as oe,f as r,v as l,g as t,m as i,i as a,t as m,q as ne,x as re,k as N,h as le}from"./index-DRfNb0Qr.js";import{_ as ie}from"./itoktok-sm-DEpJsqwV.js";const ae={class:"flex min-h-full mx-auto w-full flex-col justify-center px-6 py-12 lg:px-8 border"},de=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"mx-auto h-10 w-auto rounded-lg",src:ie,alt:"Your Company"}),e("h2",{class:"mt-5 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900"}," Sign up to your account ")],-1),ue={class:"bg-white mt-10 sm:mx-auto sm:w-full sm:max-w-2xl border border-gray-400/50 p-9 rounded-lg"},ge={class:"mb-4"},me=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"아이디",-1),ce={class:"mt-1 text-red-500"},pe={class:"mb-4"},be=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"비밀번호",-1),fe={class:"mt-1 text-red-500"},xe={class:"mb-4"},ye=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"비밀번호 확인",-1),_e={class:"mt-1 text-red-500"},he={class:"mb-4"},we=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"이메일",-1),ve={class:"mt-1 text-red-500"},ke={class:"mb-4"},Ve=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"이름",-1),Ue={class:"mt-1 text-red-500"},Ae={class:"mb-4"},qe=e("label",{class:"text-base font-semibold leading-7 text-gray-900 before:content-['*'] before:text-red-500"},"휴대폰번호",-1),Ne={class:"mt-1 text-red-500"},Se={class:"mb-4"},Ce=e("label",{class:"text-base font-semibold leading-7 text-gray-900"},"생년월일",-1),Te={class:"mb-4"},$e=e("label",{class:"text-base font-semibold leading-7 text-gray-900"},"주소",-1),De={class:"mb-4"},Me=e("label",{class:"text-base font-semibold leading-7 text-gray-900"},"주소 상세",-1),je={class:"mb-4"},ze=e("label",{class:"text-base font-semibold leading-7 text-gray-900"},"전화번호",-1),Be={class:"flex justify-center gap-1"},Re=e("button",{type:"submit",class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-semibold rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"}," 회원가입 ",-1),Pe={__name:"SignupView2",setup(Ee){const S=L({username:g().min(4,"4자 이상 입력해주세요.").required("아이디를 입력해주세요.").test("usernameDup","이미 등록된 아이디입니다.",async u=>!(await Q(u)).exists),password:g().min(8,"최소 8자 이상 입력해주세요.").required("비밀번호를 입력해주세요."),password_confirm:g().oneOf([W("password"),null],"비밀번호가 일치하지 않습니다.").required("비밀번호를 입력해주세요."),email:g().required("이메일을 입력해주세요.").email("올바른 이메일을 입력하세요."),full_name:g().required("이름을 입력해주세요."),hp_number:g().required("휴대폰번호를 입력해주세요.").test("is-valid-phone","올바른 휴대폰번호를 입력하세요.",u=>/^(010|011)-\d{3,4}-\d{4}$/.test(u))}),{errors:d,handleSubmit:C,defineField:n,setValues:T}=X({validationSchema:S}),[c,$]=n("username"),[p,D]=n("password"),[b,M]=n("password_confirm"),[f,j]=n("email"),[x,z]=n("full_name"),[y,B]=n("birth_date"),[_,R]=n("address"),[h,E]=n("address_extra"),[w,F]=n("phone_number"),[v,O]=n("hp_number"),[k,P]=n("zip_code"),[V,Y]=n("user_type"),[U,G]=n("is_active"),[A,H]=n("is_superuser");T({username:"",password:"",user_type:"1",is_active:"1",is_superuser:"0"});const I=N("$navigateTo"),J=N("showModal"),q=C(async u=>{try{const s=await Z(u);console.log("signup res: ",s),J("회원가입이 완료되었습니다. 로그인해주세요."),I("/login")}catch(s){console.log(s)}});return(u,s)=>{const K=ee("router-link");return se(),te("main",null,[e("div",ae,[de,e("div",ue,[e("form",{onSubmit:s[14]||(s[14]=oe((...o)=>t(q)&&t(q)(...o),["prevent"]))},[e("div",ge,[me,r(e("input",i(t($),{"onUpdate:modelValue":s[0]||(s[0]=o=>a(c)?c.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"아이디"}),null,16),[[l,t(c)]]),e("div",ce,m(t(d).username),1)]),e("div",pe,[be,r(e("input",i(t(D),{"onUpdate:modelValue":s[1]||(s[1]=o=>a(p)?p.value=o:null),type:"password",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"abcd!@34"}),null,16),[[l,t(p)]]),e("div",fe,m(t(d).password),1)]),e("div",xe,[ye,r(e("input",i(t(M),{"onUpdate:modelValue":s[2]||(s[2]=o=>a(b)?b.value=o:null),type:"password",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),null,16),[[l,t(b)]]),e("div",_e,m(t(d).password_confirm),1)]),e("div",he,[we,r(e("input",i(t(j),{"onUpdate:modelValue":s[3]||(s[3]=o=>a(f)?f.value=o:null),type:"email",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"your@email.com"}),null,16),[[l,t(f)]]),e("div",ve,m(t(d).email),1)]),e("div",ke,[Ve,r(e("input",i(t(z),{"onUpdate:modelValue":s[4]||(s[4]=o=>a(x)?x.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"홍길동"}),null,16),[[l,t(x)]]),e("div",Ue,m(t(d).full_name),1)]),e("div",Ae,[qe,r(e("input",i(t(O),{"onUpdate:modelValue":s[5]||(s[5]=o=>a(v)?v.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"000-0000-0000"}),null,16),[[l,t(v)]]),e("div",Ne,m(t(d).hp_number),1)]),e("div",Se,[Ce,r(e("input",i(t(B),{"onUpdate:modelValue":s[6]||(s[6]=o=>a(y)?y.value=o:null),type:"date",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),null,16),[[l,t(y)]])]),e("div",Te,[$e,r(e("input",i(t(R),{"onUpdate:modelValue":s[7]||(s[7]=o=>a(_)?_.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),null,16),[[l,t(_)]])]),e("div",De,[Me,r(e("input",i(t(E),{"onUpdate:modelValue":s[8]||(s[8]=o=>a(h)?h.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"}),null,16),[[l,t(h)]])]),e("div",je,[ze,r(e("input",i(t(F),{"onUpdate:modelValue":s[9]||(s[9]=o=>a(w)?w.value=o:null),type:"text",class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"000-0000-0000"}),null,16),[[l,t(w)]])]),r(e("input",i(t(P),{"onUpdate:modelValue":s[10]||(s[10]=o=>a(k)?k.value=o:null),type:"hidden"}),null,16),[[l,t(k)]]),r(e("input",i(t(Y),{"onUpdate:modelValue":s[11]||(s[11]=o=>a(V)?V.value=o:null),type:"hidden"}),null,16),[[l,t(V)]]),r(e("input",i(t(G),{"onUpdate:modelValue":s[12]||(s[12]=o=>a(U)?U.value=o:null),type:"hidden"}),null,16),[[l,t(U)]]),r(e("input",i(t(H),{"onUpdate:modelValue":s[13]||(s[13]=o=>a(A)?A.value=o:null),type:"hidden"}),null,16),[[l,t(A)]]),e("div",Be,[Re,ne(K,{to:"/login",class:"flex focus:outline-none text-white bg-gray-400 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-semibold rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},{default:re(()=>[le(" 로그인 ")]),_:1})])],32)])])])}}};export{Pe as default};
