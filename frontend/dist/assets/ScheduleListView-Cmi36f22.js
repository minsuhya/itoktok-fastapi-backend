import{l as v,y as S,z as b,A as w,G as x,O as f,x as M,o,e as n,d as l,F as k,B as D,t as d}from"./index-DyikdeVs.js";import{M as A}from"./MobileLayout-CeX199-E.js";import{h as B}from"./schedule-DRuf90Am.js";import"./teacherStore-BQywt_cN.js";const I={class:"p-4"},C={key:0,class:"bg-white rounded-lg shadow-sm p-8 text-center text-gray-500"},F={key:1,class:"space-y-3"},O=["onClick"],$={class:"text-sm text-gray-500 mb-1"},L={class:"font-semibold text-lg mb-1"},T={class:"text-sm text-gray-600"},z={__name:"ScheduleListView",setup(P){const c=v(),i=S(),a=b([]),h=w(()=>{const e=i.params.date||new Date().toISOString().split("T")[0],s=new Date(e);return`${s.getFullYear()}년 ${String(s.getMonth()+1).padStart(2,"0")}월 ${String(s.getDate()).padStart(2,"0")}일`}),p=()=>{},m=()=>{c.push({name:"MobileSearch"})},_=()=>{c.push({name:"MobileScheduleForm",query:{date:i.params.date}})},g=e=>{c.push({name:"MobileScheduleDetail",params:{id:e.id}})},y=async()=>{try{const e=i.params.date||new Date().toISOString().split("T")[0],[s,t,u]=e.split("-"),r=await B(parseInt(s),parseInt(t),parseInt(u));Array.isArray(r)?a.value=r:r&&r.data?a.value=Array.isArray(r.data)?r.data:[]:a.value=[]}catch(e){console.error("일정 조회 오류:",e),a.value=[]}};return x(()=>{y()}),(e,s)=>(o(),f(A,{"header-title":h.value,"show-menu":!0,"show-search":!0,"show-plus":!0,"active-tab":"calendar",onMenu:p,onSearch:m,onPlus:_},{default:M(()=>[n("div",I,[a.value.length===0?(o(),l("div",C," 등록된 일정이 없습니다. ")):(o(),l("div",F,[(o(!0),l(k,null,D(a.value,t=>(o(),l("div",{key:t.id,onClick:u=>g(t),class:"bg-white rounded-lg shadow-sm p-4 cursor-pointer hover:bg-gray-50 border-l-4 border-blue-600"},[n("div",$,d(t.time),1),n("div",L,d(t.title),1),n("div",T,d(t.content),1)],8,O))),128))]))])]),_:1},8,["header-title"]))}};export{z as default};
