import{u as H,i as P,r as T,o as u,d as h,e,q as l,x as g,t as x,g as b,j as f,k as R,_ as S,l as B,y as q,z as y,A as D,F as $,B as M,C as p,D as L,E as F,G as W,H as G,I as J,J as K,K as U,c as Q,a as X,L as V,M as I,N as Z,T as ee,O as te,P as se}from"./index-DyikdeVs.js";import{_ as oe}from"./itoktok-sm-DEpJsqwV.js";import{u as re}from"./calendarStore-CtSzQqFQ.js";import{u as ne}from"./teacherStore-BQywt_cN.js";const ae={class:"bg-white border-gray-200 dark:bg-gray-900"},le={class:"max-w-screen-full flex flex-wrap items-center justify-between mx-auto p-4"},ie=e("img",{class:"h-8 w-auto rounded-lg",src:oe,alt:"Your Company"},null,-1),ce=e("span",{class:"self-center text-sm align-bottom text-gray-500 font-semibold whitespace-nowrap dark:text-white"},"with children",-1),de={class:"w-full md:block md:w-auto text-md font-bold",id:"navbar-default"},ue={class:"font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"},he={class:"font-semibold text-slate-500"},me=e("a",{href:"#",class:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"},"로그아웃",-1),_e=[me],ve={__name:"HeaderView",emits:["toggleSettingsSlide"],setup(c){const a=H();console.log("userStore",a.user);const{logoutApp:d}=R(),i=P("$navigateTo"),m=async()=>{await d(),console.log("logout"),i("/login")};return(o,r)=>{const t=T("router-link");return u(),h("nav",ae,[e("div",le,[l(t,{to:"/admin",class:"flex items-center space-x-3 rtl:space-x-reverse"},{default:g(()=>[ie,ce]),_:1}),e("div",de,[e("ul",ue,[e("li",he,x(b(a).user.full_name)+" ["+x(b(a).user.username)+"] ",1),l(t,{to:"/admin/myinfo",class:"block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent",tab:"li"},{default:g(()=>[f("내정보")]),_:1}),e("li",{onClick:m},_e)])])])])}}},N=c=>(L("data-v-fd030112"),c=c(),F(),c),ge={class:"w-auto bg-white rounded-lg shadow"},pe={class:"p-2"},fe={class:"flex items-center justify-between mb-1"},xe=N(()=>e("span",{class:"material-icons"},"◀",-1)),we=[xe],be={class:"text-lg text-gray-800 font-semibold"},ye=N(()=>e("span",{class:"material-icons"},"▶",-1)),ke=[ye],$e={class:"grid grid-cols-7 gap-1 mb-1"},Me={class:"grid grid-cols-7 gap-1"},Se=["onClick"],Ce={__name:"Calendar",setup(c){const a=B();q();const d=re(),i=y(new Date),m=y(null),o=new Date,r=["일","월","화","수","목","금","토"],t=D(()=>i.value.getMonth()),s=D(()=>i.value.getFullYear()),j=D(()=>{const _=s.value,w=t.value,n=new Date(_,w,1).getDay(),C=new Date(_,w+1,0).getDate(),k=[],O=new Date(_,w,0).getDate();for(let v=n-1;v>=0;v--)k.push({date:O-v,isCurrentMonth:!1,isPrevMonth:!0});for(let v=1;v<=C;v++)k.push({date:v,isCurrentMonth:!0,isSelected:m.value&&m.value.getDate()===v&&m.value.getMonth()===t.value&&m.value.getFullYear()===s.value,isToday:o.getDate()===v&&o.getMonth()===t.value&&o.getFullYear()===s.value});const Y=42-k.length;for(let v=1;v<=Y;v++)k.push({date:v,isCurrentMonth:!1,isNextMonth:!0});return k}),A=_=>{let w=s.value,n=t.value;_.isPrevMonth?t.value===0?(w=s.value-1,n=11):n=t.value-1:_.isNextMonth&&(t.value===11?(w=s.value+1,n=0):n=t.value+1),m.value=new Date(w,n,_.date),d.setSelectedDate(m.value),a.push("/admin/weekly")},z=()=>{const _=new Date(s.value,t.value-1,1);i.value=_,d.setSelectedDate(_)},E=()=>{const _=new Date(s.value,t.value+1,1);i.value=_,d.setSelectedDate(_)};return(_,w)=>(u(),h("div",ge,[e("div",pe,[e("div",fe,[e("button",{onClick:z,class:"text-gray-800 hover:text-gray-800"},we),e("h2",be,x(s.value)+"-"+x(String(t.value+1).padStart(2,"0")),1),e("button",{onClick:E,class:"text-gray-800 hover:text-gray-800"},ke)]),e("div",$e,[(u(),h($,null,M(r,n=>e("div",{key:n,class:"text-center text-sm font-medium"},[e("span",{class:p(n==="일"?"text-red-500":"text-gray-800")},x(n),3)])),64))]),e("div",Me,[(u(!0),h($,null,M(j.value,(n,C)=>(u(),h("div",{key:C,onClick:k=>A(n),class:p(["text-center text-gray-800 py-1 cursor-pointer text-sm",{"text-gray-500":!n.isCurrentMonth,"text-red-500":new Date(s.value,t.value,n.date).getDay()===0&&n.isCurrentMonth,"bg-blue-100 rounded":n.isSelected,"bg-green-100 rounded":n.isToday,"hover:bg-gray-100 rounded":!n.isSelected&&!n.isToday}])},x(n.date),11,Se))),128))])])]))}},De=S(Ce,[["__scopeId","data-v-fd030112"]]),Te=c=>(L("data-v-b42026b7"),c=c(),F(),c),je={class:"mt-4 bg-white rounded-lg p-4"},Ve=Te(()=>e("h3",{class:"text-gray-700 font-medium mb-3"},"상담사 목록",-1)),Ie={class:"space-y-2"},Be=["onClick"],Le={class:"flex items-center"},Fe=["checked"],Ne={class:"flex flex-row items-center"},Ae={class:"text-sm font-medium text-gray-700"},ze={class:"ml-2 text-xs text-gray-500"},Ee={__name:"TeacherList",setup(c){const a=B(),d=ne(),i=y([]);W(async()=>{try{const o=await G();console.log("teachers:",o),i.value=o.map(s=>({id:s.id,username:s.username,name:s.full_name,role:s.user_type==="center"?"센터":"상담사",checked:!0,color:s.usercolor}));const r=await J(),t=r?r.split(","):[];i.value.forEach(s=>{s.checked=t.includes(s.username)}),d.setSelectedTeachers(t)}catch(o){console.error("Error fetching teachers:",o)}});const m=async o=>{o.checked=!o.checked;const r=i.value.filter(t=>t.checked).map(t=>t.username);d.setSelectedTeachers(r),console.log("selectedTeachers:",r);try{const t=r.join(",");await U({selected_teacher:t});const s=a.currentRoute.value;s.path==="/admin/weekly"||s.path==="/admin/monthly"||a.push("/admin/weekly")}catch(t){console.error("Error updating selected teachers:",t)}};return(o,r)=>(u(),h("div",je,[Ve,e("div",Ie,[(u(!0),h($,null,M(i.value,t=>(u(),h("div",{key:t.id,class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer",onClick:s=>m(t)},[e("div",Le,[e("input",{type:"checkbox",checked:t.checked,class:"form-checkbox h-4 w-4 cursor-pointer",style:K({color:t.color+"80"})},null,12,Fe)]),e("div",Ne,[e("span",Ae,x(t.name),1),e("span",ze,x(t.role),1)])],8,Be))),128))])]))}},Oe=S(Ee,[["__scopeId","data-v-b42026b7"]]),Ye={class:"w-64 bg-gray-800 text-gray-200 flex flex-col shadow-lg h-screen overflow-y-auto pb-20"},He={class:"flex-grow p-4"},Pe={class:"mt-2"},Re=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})]),f(" 프로그램 관리 ")],-1),qe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),We=[qe],Ge=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A7.5 7.5 0 0112 2.5a7.5 7.5 0 016.879 15.304M15 21h6m0 0v-6m0 6l-6-6"})]),f(" 사용자 ")],-1),Je=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Ke=[Je],Ue={class:"mt-2"},Qe=e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 11V7m0 4v4m0-4H7m4 0h4M21 12.255a9.253 9.253 0 01-.965 4.365l-1.634-1.635m2.599-2.73l-2.599 2.731M5 6.636l1.635-1.635M3 12.255c.051-1.23.246-2.422.58-3.551L6.636 5m0 0l1.635 1.635m0 0l4.83 4.83m-4.83 0h.001l-4.831 4.83m4.83-4.83L12 12.25"})]),f(" 일정관리 ")],-1),Xe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Ze=[Xe],et={__name:"LeftView",setup(c){const a=y(!1),d=y(!1),i=y(!1);return(m,o)=>{const r=T("router-link");return u(),h("aside",Ye,[e("nav",He,[e("div",Pe,[e("button",{onClick:o[0]||(o[0]=t=>i.value=!i.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[Re,(u(),h("svg",{class:p([{"transform rotate-180":i.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},We,2))]),e("div",{class:p(["mt-2 space-y-2 pl-8 text-gray-400",i.value?"block":"hidden"])},[l(r,{to:"/admin/program",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("프로그램 목록")]),_:1})],2)]),e("div",null,[e("button",{onClick:o[1]||(o[1]=t=>a.value=!a.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[Ge,(u(),h("svg",{class:p([{"transform rotate-180":a.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ke,2))]),e("div",{class:p(["mt-2 space-y-2 pl-8 text-gray-400",a.value?"block":"hidden"])},[l(r,{to:"/admin/client",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("내담자 관리")]),_:1}),l(r,{to:"/admin/counselor",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("상담사 관리")]),_:1})],2)]),e("div",Ue,[e("button",{onClick:o[2]||(o[2]=t=>d.value=!d.value),class:"w-full flex justify-between items-center py-2.5 px-4 rounded hover:bg-gray-800 transition-colors duration-200 focus:outline-none"},[Qe,(u(),h("svg",{class:p([{"transform rotate-180":d.value},"w-4 h-4 transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ze,2))]),e("div",{"x-show":"open",class:p(["mt-2 space-y-2 pl-8 text-gray-400",d.value?"block":"hidden"])},[l(r,{to:"/admin/monthly",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("월간일정")]),_:1}),l(r,{to:"/admin/weekly",class:"block py-2.5 px-4 rounded hover:bg-gray-800 hover:text-white transition-colors duration-200"},{default:g(()=>[f("주간일정")]),_:1})],2)]),l(De),l(Oe)])])}}},tt={},st={class:"bg-white shadow-md py-2 px-6 text-center"},ot=e("p",{class:"text-gray-700"},"© 2024 EzyOps Admin Dashboard. All rights reserved.",-1),rt=[ot];function nt(c,a){return u(),h("footer",st,rt)}const at=S(tt,[["render",nt]]),lt={className:"w-full bg-neutral-50 shadow-lg rounded-lg p-6"},it={className:"border-b pb-2 mb-4"},ct={class:"flex items-center justify-evenly mb-2"},dt=e("h2",{class:"font-title font-bold"},"설정",-1),ut=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),ht=[ut],mt={class:"mb-4"},_t=e("label",{for:"timeInterval",class:"block text-gray-700"},"일정 시간 간격",-1),vt=["value"],gt={class:"mb-4"},pt={class:"flex items-center justify-between"},ft=e("label",{for:"hs-color-input",class:"block text-sm font-medium mb-2"},"일정 색상 ",-1),xt={class:"flex justify-between mt-4"},wt=e("button",{type:"submit",class:"bg-green-600 text-white rounded-md p-2 w-[80px]"}," 확인 ",-1),bt={__name:"SettingsFormSliding",props:{isVisible:Boolean},emits:["close"],setup(c,{emit:a}){const d=a,i=Q({timeInterval:X().required("시간간격을 선택하세요.")}),m=[5,10,15,20,30,60],o=async r=>{console.log("submitting:",r),d("close")};return(r,t)=>(u(),h($,null,[e("div",{onClick:t[0]||(t[0]=s=>r.$emit("close")),class:p(["fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-1000",{"opacity-100 block":c.isVisible,"opacity-0 hidden":!c.isVisible}])},null,2),e("div",{class:p(["fixed top-0 right-0 w-1/3 h-full bg-white shadow-lg p-4 overflow-auto z-50 transition-transform duration-1000 ease-in-out",{"translate-x-full":!c.isVisible,"translate-x-0":c.isVisible}])},[e("div",lt,[e("div",it,[e("div",ct,[dt,e("button",{class:"ml-auto",onClick:t[1]||(t[1]=s=>r.$emit("close"))},ht)]),l(b(Z),{"validation-schema":b(i),onSubmit:o},{default:g(()=>[e("div",mt,[_t,l(b(V),{as:"select",name:"timeInterval",id:"timeInterval",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm"},{default:g(()=>[(u(),h($,null,M(m,s=>e("option",{key:s,value:s},x(s)+" 분 ",9,vt)),64))]),_:1}),l(b(I),{name:"timeInterval",class:"text-red-500 text-sm"})]),e("div",gt,[e("div",pt,[ft,l(b(V),{type:"color",name:"usercolor",id:"usercolor",class:"p-1 h-10 w-14 block bg-white border border-gray-200 cursor-pointer rounded-lg disabled:opacity-50 disabled:pointer-events-none",value:"#2563eb",title:"Choose your color"})]),l(b(I),{name:"usercolor",class:"text-red-500 text-sm"})]),e("div",xt,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>r.$emit("close")),class:"bg-gray-400 text-white rounded-md p-2 w-[80px]"}," 취소 "),wt])]),_:1},8,["validation-schema"])])])],2)],64))}},yt={class:"flex flex-1 overflow-hidden"},kt={class:"flex-1 overflow-y-auto p-3"},$t={__name:"LayoutView",setup(c){const a=y(!1),d=()=>{a.value=!a.value};return(i,m)=>{const o=T("router-view");return u(),h($,null,[l(ve,{onToggleSettingsSlide:d}),e("div",yt,[l(et),e("main",kt,[l(o,null,{default:g(({Component:r,route:t})=>[l(ee,{name:"fade",mode:"out-in"},{default:g(()=>[(u(),h("div",{key:t.name},[(u(),te(se(r)))]))]),_:2},1024)]),_:1})])]),l(at),l(bt,{isVisible:a.value,onClose:d},null,8,["isVisible"])],64)}}},Tt=S($t,[["__scopeId","data-v-ad8ab6a0"]]);export{Tt as default};
